/*
* Copyright (c) 2017 Magic Leap, Inc. (COMPANY) All Rights Reserved.
* Magic Leap, Inc. Confidential and Proprietary
*
* NOTICE: All information contained herein is, and remains the property
* of COMPANY. The intellectual and technical concepts contained herein
* are proprietary to COMPANY and may be covered by U.S. and Foreign
* Patents, patents in process, and are protected by trade secret or
* copyright law. Dissemination of this information or reproduction of
* this material is strictly forbidden unless prior written permission is
* obtained from COMPANY. Access to the source code contained herein is
* hereby forbidden to anyone except current COMPANY employees, managers
* or contractors who have executed Confidentiality and Non-disclosure
* agreements explicitly covering such access.
*
* The copyright notice above does not evidence any actual or intended
* publication or disclosure of this source code, which includes
* information that is confidential and/or proprietary, and is a trade
* secret, of COMPANY. ANY REPRODUCTION, MODIFICATION, DISTRIBUTION,
* PUBLIC PERFORMANCE, OR PUBLIC DISPLAY OF OR THROUGH USE OF THIS
* SOURCE CODE WITHOUT THE EXPRESS WRITTEN CONSENT OF COMPANY IS
* STRICTLY PROHIBITED, AND IN VIOLATION OF APPLICABLE LAWS AND
* INTERNATIONAL TREATIES. THE RECEIPT OR POSSESSION OF  THIS SOURCE
* CODE AND/OR RELATED INFORMATION DOES NOT CONVEY OR IMPLY ANY RIGHTS
* TO REPRODUCE, DISCLOSE OR DISTRIBUTE ITS CONTENTS, OR TO MANUFACTURE,
* USE, OR SELL ANYTHING THAT IT MAY DESCRIBE, IN WHOLE OR IN PART.
*/

window.KERNEL = (function(e) {
  function t(i) {
    if (n[i]) return n[i].exports;
    var o = (n[i] = { i: i, l: !1, exports: {} });
    return e[i].call(o.exports, o, o.exports, t), (o.l = !0), o.exports;
  }
  var n = {};
  return (
    (t.m = e),
    (t.c = n),
    (t.d = function(e, n, i) {
      t.o(e, n) ||
        Object.defineProperty(e, n, {
          configurable: !1,
          enumerable: !0,
          get: i,
        });
    }),
    (t.n = function(e) {
      var n =
        e && e.__esModule
          ? function() {
              return e.default;
            }
          : function() {
              return e;
            };
      return t.d(n, 'a', n), n;
    }),
    (t.o = function(e, t) {
      return Object.prototype.hasOwnProperty.call(e, t);
    }),
    (t.p = ''),
    t((t.s = 0))
  );
})([
  function(e, t, n) {
    'use strict';
    function i(e, t) {
      if (!(e instanceof t))
        throw new TypeError('Cannot call a class as a function');
    }
    function o() {
      if ('undefined' == typeof window || 'undefined' == typeof document)
        return !1;
      var e = document.createElement('canvas');
      if (!e) return !1;
      var t = e.getContext('webgl') || e.getContext('experimental-webgl');
      return !!(t && t instanceof WebGLRenderingContext);
    }
    var r = (function() {
        function e(e, t) {
          for (var n = 0; n < t.length; n++) {
            var i = t[n];
            (i.enumerable = i.enumerable || !1),
              (i.configurable = !0),
              'value' in i && (i.writable = !0),
              Object.defineProperty(e, i.key, i);
          }
        }
        return function(t, n, i) {
          return n && e(t.prototype, n), i && e(t, i), t;
        };
      })(),
      a = n(1),
      c = new ((function() {
        function e(t, n) {
          i(this, e),
            o() &&
              ((this.initializeGL = this.initializeGL.bind(this)),
              (this.addTick = this.addTick.bind(this)),
              (this.scene = n),
              (this.id = t),
              (this.layers = []),
              (this.hidden = !1),
              (this.tick = this.tick.bind(this)),
              document.getElementById(this.id)
                ? this.initializeGL()
                : 'complete' === document.readyState
                  ? this.initializeGL()
                  : (document.addEventListener(
                      'DOMContentLoaded',
                      this.initializeGL
                    ),
                    window.addEventListener('load', this.initializeGL)));
        }
        return (
          r(e, [
            {
              key: 'isMobile',
              value: function() {
                return void 0 !== window.orientation;
              },
            },
            {
              key: 'isIOS',
              value: function() {
                return !!navigator.platform.match(/iPhone|iPod|iPad/);
              },
            },
            {
              key: 'addTick',
              value: function(e) {
                this.layers.push(e);
              },
            },
            {
              key: 'initializeGL',
              value: function() {
                if (
                  (document.removeEventListener(
                    'DOMContentLoaded',
                    this.initializeGL
                  ),
                  window.removeEventListener('load', this.initializeGL),
                  !this.gl)
                )
                  if (
                    ((this.canvas = document.getElementById(this.id)),
                    this.canvas)
                  ) {
                    var e = Math.min(2, window.devicePixelRatio),
                      t = this.isMobile();
                    this.mobileDetected = t;
                    var n = this.isIOS(),
                      i = t && window.innerWidth > window.innerHeight;
                    t
                      ? n
                        ? ((this.canvas.width =
                            i && n
                              ? window.screen.height
                              : window.screen.width),
                          (this.canvas.height =
                            i && n
                              ? window.screen.width
                              : window.screen.height))
                        : ((this.canvas.width = window.screen.width),
                          (this.canvas.height = window.screen.height))
                      : ((this.canvas.width = window.innerWidth * e),
                        (this.canvas.height = window.innerHeight * e)),
                      (this.layers = []),
                      (this.gl =
                        this.canvas.getContext('webgl') ||
                        this.canvas.getContext('experimental-webgl')),
                      (this.defaultScene = new this.scene(this.gl)),
                      this.start();
                  } else this.gl = null;
              },
            },
            {
              key: 'tick',
              value: function(e) {
                this.alive && document.getElementById(this.id)
                  ? (this.hidden ||
                      this.mobileDetected ||
                      this.defaultScene.tick(e, this.gl),
                    this.layers.map(function(t) {
                      t.tick(e);
                    }),
                    this.alive && requestAnimationFrame(this.tick))
                  : this.stop();
              },
            },
            {
              key: 'hide',
              value: function() {
                this.hidden = !0;
              },
            },
            {
              key: 'show',
              value: function() {
                this.hidden = !1;
              },
            },
            {
              key: 'start',
              value: function() {
                (this.alive = !0),
                  (this.frame = requestAnimationFrame(this.tick));
              },
            },
            {
              key: 'stop',
              value: function() {
                (this.alive = !1),
                  this.frame && cancelAnimationFrame(this.frame);
              },
            },
            {
              key: 'kill',
              value: function() {
                this.stop(),
                  (this.layers = []),
                  (this.defaultScene = null),
                  (this.canvas = null),
                  (this.gl = null);
              },
            },
          ]),
          e
        );
      })())('heroCanvas', a);
    e.exports = c;
  },
  function(e, t, n) {
    'use strict';
    function i(e, t) {
      if (!(e instanceof t))
        throw new TypeError('Cannot call a class as a function');
    }
    function o(e) {
      var t, n, i, o, r, c, l;
      for (c = e.length, r = 0, l = ''; r < c; ) {
        do {
          t = a[255 & e.charCodeAt(r++)];
        } while (r < c && -1 == t);
        if (-1 == t) break;
        do {
          n = a[255 & e.charCodeAt(r++)];
        } while (r < c && -1 == n);
        if (-1 == n) break;
        l += String.fromCharCode((t << 2) | ((48 & n) >> 4));
        do {
          if (61 == (i = 255 & e.charCodeAt(r++))) return l;
          i = a[i];
        } while (r < c && -1 == i);
        if (-1 == i) break;
        l += String.fromCharCode(((15 & n) << 4) | ((60 & i) >> 2));
        do {
          if (61 == (o = 255 & e.charCodeAt(r++))) return l;
          o = a[o];
        } while (r < c && -1 == o);
        if (-1 == o) break;
        l += String.fromCharCode(((3 & i) << 6) | o);
      }
      return l;
    }
    var r = (function() {
        function e(e, t) {
          for (var n = 0; n < t.length; n++) {
            var i = t[n];
            (i.enumerable = i.enumerable || !1),
              (i.configurable = !0),
              'value' in i && (i.writable = !0),
              Object.defineProperty(e, i.key, i);
          }
        }
        return function(t, n, i) {
          return n && e(t.prototype, n), i && e(t, i), t;
        };
      })(),
      a = new Array(
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        62,
        -1,
        -1,
        -1,
        63,
        52,
        53,
        54,
        55,
        56,
        57,
        58,
        59,
        60,
        61,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9,
        10,
        11,
        12,
        13,
        14,
        15,
        16,
        17,
        18,
        19,
        20,
        21,
        22,
        23,
        24,
        25,
        -1,
        -1,
        -1,
        -1,
        -1,
        -1,
        26,
        27,
        28,
        29,
        30,
        31,
        32,
        33,
        34,
        35,
        36,
        37,
        38,
        39,
        40,
        41,
        42,
        43,
        44,
        45,
        46,
        47,
        48,
        49,
        50,
        51,
        -1,
        -1,
        -1,
        -1,
        -1
      );
    e.exports = (function() {
      function e(t) {
        i(this, e), (this.gl = t), this.initializeGl(t);
      }
      return (
        r(e, [
          {
            key: 'b64',
            value: function(e) {
              for (
                var t = o(e), n = t.length, i = new Uint8Array(n), r = 0;
                r < n;
                r++
              )
                i[r] = t.charCodeAt(r);
              return i;
            },
          },
          {
            key: 'getTexture',
            value: function() {
              var e = this.gl,
                t = e.createTexture();
              e.bindTexture(e.TEXTURE_2D, t);
              var i = this.b64(n(2)),
                o = e.RGB,
                r = e.RGB,
                a = e.UNSIGNED_BYTE;
              return (
                e.texImage2D(e.TEXTURE_2D, 0, o, 32, 32, 0, r, a, i),
                e.generateMipmap(e.TEXTURE_2D),
                t
              );
            },
          },
          {
            key: 'createShader',
            value: function(e, t) {
              var n = this.gl,
                i = n.createShader(t);
              if (
                (n.shaderSource(i, e),
                n.compileShader(i),
                !n.getShaderParameter(i, n.COMPILE_STATUS))
              )
                throw n.getShaderInfoLog(i);
              return i;
            },
          },
          {
            key: 'createProgram',
            value: function(e, t) {
              var n = this.gl,
                i = n.createProgram(),
                o = this.createShader(e, n.VERTEX_SHADER),
                r = this.createShader(t, n.FRAGMENT_SHADER);
              if (
                (n.attachShader(i, o),
                n.attachShader(i, r),
                n.linkProgram(i),
                !n.getProgramParameter(i, n.LINK_STATUS))
              )
                throw n.getProgramInfoLog(i);
              return i;
            },
          },
          {
            key: 'initializeGl',
            value: function(e) {
              var t = {
                  position: [
                    -1,
                    -1,
                    0,
                    1,
                    -1,
                    0,
                    -1,
                    1,
                    0,
                    -1,
                    1,
                    0,
                    1,
                    -1,
                    0,
                    1,
                    1,
                    0,
                  ],
                },
                i = e.createBuffer();
              (this.vertexPosBuffer = i), e.bindBuffer(e.ARRAY_BUFFER, i);
              var o = t.position;
              e.bufferData(e.ARRAY_BUFFER, new Float32Array(o), e.STATIC_DRAW);
              var r = this.createProgram(n(3), n(4));
              e.useProgram(r),
                (this.program = r),
                (r.dprUniform = e.getUniformLocation(r, 'u_dpr')),
                (r.timeUniform = e.getUniformLocation(r, 'u_time')),
                (r.resolutionUniform = e.getUniformLocation(r, 'u_resolution')),
                (r.texUniform = e.getUniformLocation(r, 'u_tex')),
                (r.vertexPosAttrib = e.getAttribLocation(r, 'position'));
              var a = Math.min(2, window.devicePixelRatio);
              e.uniform2f(
                r.resolutionUniform,
                window.innerWidth,
                window.innerHeight
              ),
                e.uniform1f(this.program.dprUniform, a),
                (this.texture = this.getTexture());
              var c = this.texture;
              e.activeTexture(e.TEXTURE0),
                e.bindTexture(e.TEXTURE_2D, c),
                e.uniform1i(r.texUniform, 0),
                e.enableVertexAttribArray(r.vertexPosAttrib),
                e.vertexAttribPointer(r.vertexPosAttrib, 3, e.FLOAT, !1, 0, 0);
            },
          },
          {
            key: 'tick',
            value: function(e, t) {
              t.bindBuffer(t.ARRAY_BUFFER, this.vertexPosBuffer),
                t.useProgram(this.program),
                t.uniform1f(this.program.timeUniform, 1e-4 * e),
                t.bindTexture(t.TEXTURE_2D, this.texture),
                t.activeTexture(t.TEXTURE0),
                t.uniform1i(this.program.texUniform, 0),
                t.enableVertexAttribArray(this.program.vertexPosAttrib),
                t.vertexAttribPointer(
                  this.program.vertexPosAttrib,
                  3,
                  t.FLOAT,
                  !1,
                  0,
                  0
                ),
                t.drawArrays(t.TRIANGLES, 0, 6);
            },
          },
        ]),
        e
      );
    })();
  },
  function(e, t) {
    e.exports =
      'SGxAS283THI0UW8iX3UPX38NWoETWH8RUnIcS24eSWUiRl0fPlcXRlcMS1cKSWAIVWoGVG8ST24gTnQrU34sVYUwUI04T5M/VIRBVndPT3ZXPnBcPnBVSXVUTHhLTW0/RmNIRGlGSW1BUWouWXIdYnoXYXsZWHkbT2wgSGwjQ2YfO1wXOVoQQFQNQVgPQ1IQS10JRmYNRWsdQ3QsR38xUIo1Too6VZNHWYFMV3ZXTHpZPm9cO25WRWxXRWhUSGRIR1lPSmVVTGpKVm45WHItW3ojYnwqVHMrTm4kRWUhPGAfOlofOFMJOFkJO1gGPFUQR10NRmAUQWogP3E1RX47TYpETYtJV4dOXn5SVnZaTHthPnlkRH1dQHRXQWNSRFxPSWFfSmdbRmZNTG5CUm83VHQ4VXYyUXIySWs0TWQnQGIhPlgYMlkVMVgRL10KNlURO1wVPl4hRWUkRnUxRHw/R4JJUItQVoZSVnlVVXVWToJnQYVoPX9mOXJjNmheSmBjP2JhPmBbPWNNQ2tETmo4TnE8TnE2S2s6S2A7VFgzTVcnRVQiNlgbL1seLl0hNFYkPFcdO18mQGUoS3M+SXtQRYZbUIZaUH5dWXpiUHxhUYhfToxiRoNxQ3dzP21uQWRnPmpoP2hdQGxTRHFOQXJIRnVBRXU6Um5BUV9AVFlAT1g2R1UyN1UoL14rLlwpMlYuPVQsO14xSms7U3VPUHpaT31kS35lUn9mTntnS4FfUIleTItmSIVzSX50Q3VzPm9mPXZjO3hfPHtaQXdPP3lGRoJAQnc6TGQ+UGI9S149RF8/Plk3N1IvM1g6MVkyMFgxP149RWFGVWpLWXJfWnZrWXRtU3dqToFsR39qQIJgSI1eSpJsQY14RIJ5R4BxQ3pmPoVsNYRkN4RbQYNTPntGPn08RHI6RWk5Smc7S106Qlo3P1Q1N1IvNE82PVM9Q1k/UmBIUGZYW2teVW1uVG96VnZzVoBvTYRsRolrP45gRpVdSpZuSZR5R4l1TYV0SYNmQYtrNYlkNo5YQItVQ4JFQX08RG9GQ2w7S2I5S1o5Q1cvOVU0NVEyMlEzQFM0Rl9JVGJWVGplXG9rWHd3XHV9W3p0VINuU4ZsT4twSpFjTpJlSZhtRpp1RJhuSopzTY9qPY5lPoZbQ45aTohWSoBMSnlHSXBDS2s0TWE3QlsuP1smOVYpNk8uM1M4P1hCRmFcVGFnVmtrV3J4VXR3XHZ4YHx1V4JoWYZnU4psTopfVpRhU5htTJ14SZlwQ41sRI1nO4xlQo1aSoRZTndVUHNVUnFQVnBFUGo4VmgzSV8zSFowTVUzQ081P1BFSVNPT1ppUmZoWWxqWHJzU3N0XYF3ZIF1YYdlYIhfV4llTY5fVpVfWZttS5dwS5NsQZFtQohkR4dtUIplToZbUHxXU3NSYHBIYGs9VmY6VWA2UFs4UFU4UFE9SVVCRFZLTFRgUlRoW1xoWWVsXXZuWYJ0ZIV0Z4dzaYhmYo5cWY9kVI9nXJhiYJtpWZZtUJNwS4x0RIxrVolvXYppUIBgUHhcVnJRYmhMYmdIXmVFWWBAV1g/U1BATUZHRExLQ1VUTVxgVFltXFlkWGhiUX9nXYRvZ4FzaYJnboZfa5FdY5doY5ZqY5poYZpoXJNvUo92UZRyVo90YX52XoVwXHpjW3JeXHNgY2ZdZmBZXV9XWlpKXlNEWEtLT0VNS0tMTVNXUl5eT1tmU1tkVG5dV4NcYoZeZIRgcYRcco1ZcpZbc55icp1qbplxapZ6aZB4WYlzWJBvY5JzaH12a3x2ZnZwY3hsZHRiXmliZWJhYmBhY19bZl1LW05PU0lRUUxSTlVcUFheUlZeTllfU2RWXnhNXYNPZINUaIRSaoxQcpJgeJtkhJ5sfJ1pdp1yb5l1ZIlzY4x1bIl0aXp7aX17Z3t4Y3Z0YHdqZG1ia21YbGZabV1db1tTYE1WW09aU1FSVlJVU1NdVFZUVlJRVFxJXWQ9Y3BCX3ZGX3xLaYRMc5FZeJZmg6Fuh55peZxwc5hyaZJ3Zot0bIB2YYNtYn51Zn94aXNxbXRhbnRYcXVXcmZUd1tdeFJbbVBfXlZfW1tZWVpaW2NeVVxWUVZHVVk0YWIvX2o5Ym9CYnZIZn9ScIlTeZBYhZJdh5dlfppncZZlZ49mZoVtY3tpVYFiYH9saHhqcHBlcHRcdHRQdXNRcmVQcmBbcFdddFFXcFlabF1XYmNaVmFSVV5LUldBV2AxW2YqVmozXWw+X3JLY35YYoRVYoZedodaeplbdZ1Vc5pTa5BYY4VcWYFeXnlWYntaaXxcc3VddG5XfG5OemtEdmVHcF9QcVZXd1RXel1YbWVKXG1JUmRKUVtAUWAuV2AlV2MqW2YtWGg7V2tFWH1SWYJXXIJfaYpacJZbco1ZdIdUaoFNZYBLaX5MaHJOaH5Ta3lacHFWfXNQe3BMeG9Ia2lKbGNSbVhRdVpUa15XYWpGXHA8VWU7VFs5V2AqXGYiXGYkX2owWG41V3JAV3RQW3hTWIJdY4pbaI9UcIJVbnxKbntGcHlAaXFBb3pNaHlPa3pVcnRKfHFBgnE9e21EaW5IZmVMaVZKaVRIZ11HXmQ4V10sWVclXFQlX1kgXGMfX2graGoyYGc3Wm1GW3ZLXX9SXH9SY4lTZX5Ua3dMbXdIenlFe3pBeXZJe31Pd3lMdHRQcXBLfm1AemxBdWxCcG9BbmFHaVZDbFg+aFU4Y1UxWlcoXVccX1UaYlodZl4mb10ua18xaGE3Ym5AYHxEa35IaoBCaYE/ZYJDanxEdoFFgYdBhH5CgHpDfHRIhXZHgnlLeHZFdWo3dGs6d3JCeXJDdGs+a108aVk7YV02YF8sYl0iYFgdYFIaZFMdb1UoeloqeV0wal00Z2k4Y3Q5bXkzcYQ3aIoxZ4Uwcnw7d4M/hoo4iYY8hns8gHg3goA6hoA9gXk8eGswcXEzc3Y2eHcyfG83c2c2Z2I1YmAuZ2IiZWAbX10XXFQXaUgbcVEnd10oeF8rbF4qaGkuZnUqanctaYEuaoctb4U1eHs7hYA7jos6ioo8iX46gYEzfoAyf4E6gn41fHYoeHQseXQpdncocGspbGIqYV0uXl0uW14gXWcXWmQRWFEaZEoca1EjclspdmMuaGUdY3IaYHQjXnglYX0xYYYubow1eII9hn5AjYM3iIU0ioQueYEweH8sdnkteH8va3gfbHUecnUhaHYgZmcYbGIhX1QkVlElUV0bWGkWX2ARYFUVbVYUa1wjbGoqbWsnbHchZIQTWX4XV4MhWn0pXoMrZ440e4k7godBhYY4f4QufYAkdYEnb34qbH4nbH4ian0ebn0XdH0bbnQaaGIValoeW1EgW1EeVF4cVmUZYF8SZWMRbmAUbm0dbXIjaXYsZX4kYIscWI8bUY8aU4MiU4MnYY4waoY8b4k9eoM6eYAucoAhboAobH0qa38kcIMcbogccYYacIUaa3QUbWsSZWEgXlchVV0dVVkXWV8UXWAPY2MaamUUaG4eZ3olZIQsXYUzYpMqXZQhUI4cTIodUJAjVY8uYoU8an5BcXk5dYAyb34naXwsZnwlYoAcaYYYb4UccIQecoQZbHoeaHAZaGogYmIcVFwWU2EPTGAOXmQTW2ofZGseXHMoYnokY4AlYoIrX44mWJElVJQnSZUdT5MlWIQtYHtBZ31IbnlBcn01aXsvZoImYXkeX3UhX3oYaHwdZX0eY4MXZXsVXnUSXGwWXWIYU1cQU1gSTl0PUGYKV2wUW24cVXMlW3knXoEiYn4oXYcnVY4mUpYrS5QnUIYtWoNAXn1OYHVPZ3xGb34xaX4vXnMsWm4mW24lW3EnYXYhX3MbV3sSVoARTn0WUXAaUWYVT14UTlUQUFgUU2UPTmgSVWwiUnUiUoAgWIcpXYcsXYktTo0yTZc5SpQzU4g6VIJAV3NOVXJPXndHZYE3ZHw2T205UnA3U28qU3gpYXkaXHoOW4QSUoMVUHobS28mTGgdQ14WQ1UQTUsLT1kHSGcMVGgcVXAeUHwfUX8tVoItVYU3TYw0TJU8TpI8UYM5TXdER3BSR3JRUHxPVXtDUXE8\n';
  },
  function(e, t) {
    e.exports =
      'precision mediump float;\n#define GLSLIFY 1\nuniform vec2 u_resolution;\nattribute vec4 position;\n\nvoid main() {\n  gl_Position = vec4(position.xyz, 1.0);\n}\n';
  },
  function(e, t) {
    e.exports =
      '// lightly modified source from: http://twgljs.org/examples/twgl-cube.html\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D u_tex;\nuniform sampler2D u_portal;\nuniform vec2 u_resolution;\n// varying vec2 v_texCoord;\nuniform float u_time;\nuniform float u_dpr;\n\nconst vec3 purple = vec3(238.,179.,176.) / 256.;\nconst vec3 green = vec3(222.,230.,139.) / 256.;\nconst vec3 white = vec3(215.,224.,231.) / 256.;\n\nconst vec3 r = purple;\nconst vec3 p = vec3(216., 145., 218.) / 256.;\nconst vec3 b = vec3( 44., 121., 195.) / 256.;\n\nconst vec3 c1 = vec3(86., 184., 182.) / 256.;\nconst vec3 c2 = vec3(174., 213., 140.) / 256.;\nconst vec3 c3 = vec3(197., 183., 142.) / 256.;\nconst vec3 c0 = vec3(130., 170., 142.) / 256.;\n\nconst vec2 mm = vec2(1., 0.);\n\nvec3 getColor(float v) {\n\treturn mix(\n\t\tmix(c1, c2, clamp(v, 0., 1.)), \n\t\tmix(c2, c3, clamp(v, 0.5, 1.)), \n\t\tv\n\t);\n}\n\nvec3 getColor2(float v) {\n\treturn mix(r, b, clamp(v, 0., 1.));\n}\n//getColor(.7+(1.-v_uv.y)-c*.35);\nvoid main() {\n\tfloat time = u_time * .5;\n\tfloat ar = u_resolution.x / u_resolution.y;\n\tvec2 v_uv = (gl_FragCoord.xy / u_resolution.xy) * (2./u_dpr);\n\tv_uv.x *= ar;\n\tvec2 c_uv = v_uv * .65;\n\tvec4 t = texture2D(u_tex, 1.2*c_uv+vec2(time*1.2,time*.31));\n\tvec4 t2 = texture2D(u_tex, 4.2*c_uv+vec2(time*1.,time*.71));\n\tvec4 t3 = texture2D(u_tex, t.rg+vec2(time*.62,time*.41));\n\tfloat c = 5. * t.g * t3.b - t2.r * .6;\n\tvec3 grad = getColor(1.2+(.8-v_uv.y-c*.15)*3.5);//getColor(4.-(v_uv.y*3.)+(c-.5)*.1);//getColor(1.2+(.8-v_uv.y-c*.15)*1.5);//getColor(1.2+(.4-.5*v_uv.y-c*.15)*3.5);\n\tgl_FragColor = vec4(grad, 1.0);\n}\n\n';
  },
]);
